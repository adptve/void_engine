{
  "version": "0.1.0",
  "generated": "2026-01-04",
  "project": "void_gui_v2",
  "crates": [
    {
      "id": "C01",
      "name": "void_core",
      "layer": "Foundation",
      "purpose": "Plugin system, type registry, hot-reload",
      "depends_on": ["void_structures", "void_memory"],
      "traits": ["Plugin", "HotReloadable"],
      "structs": ["PluginRegistry", "TypeRegistry", "PluginContext"],
      "enums": ["PluginStatus"],
      "patterns": ["Plugin System", "Type Registry", "Hot Reload"],
      "hot_swappable": true
    },
    {
      "id": "C02",
      "name": "void_math",
      "layer": "Foundation",
      "purpose": "Math primitives (vectors, matrices)",
      "depends_on": [],
      "external_deps": 0,
      "hot_swappable": false
    },
    {
      "id": "C03",
      "name": "void_memory",
      "layer": "Foundation",
      "purpose": "Custom allocators",
      "depends_on": [],
      "external_deps": 0,
      "hot_swappable": false
    },
    {
      "id": "C04",
      "name": "void_structures",
      "layer": "Foundation",
      "purpose": "Lock-free data structures",
      "depends_on": ["void_memory"],
      "external_deps": ["parking_lot"],
      "hot_swappable": false
    },
    {
      "id": "C05",
      "name": "void_event",
      "layer": "Foundation",
      "purpose": "Event bus system",
      "depends_on": ["void_core"],
      "hot_swappable": false
    },
    {
      "id": "C06",
      "name": "void_ecs",
      "layer": "Storage",
      "purpose": "Archetype-based ECS",
      "depends_on": ["void_core"],
      "traits": ["Component", "Bundle", "QueryFilter"],
      "structs": ["World", "Archetype", "EntityAllocator", "ComponentRegistry"],
      "patterns": ["Archetype ECS", "Generational IDs"],
      "hot_swappable": false
    },
    {
      "id": "C07",
      "name": "void_ir",
      "layer": "Communication",
      "purpose": "IR patches & transactions",
      "depends_on": ["void_ecs"],
      "structs": ["Patch", "Transaction", "PatchBus", "TransactionBuilder"],
      "enums": ["PatchKind", "EntityPatch", "ComponentPatch", "LayerPatch", "AssetPatch"],
      "patterns": ["IR Patches", "Transactions", "Patch Bus"],
      "hot_swappable": false
    },
    {
      "id": "C08",
      "name": "void_asset",
      "layer": "Resources",
      "purpose": "Hot-reloadable assets",
      "depends_on": ["void_core"],
      "traits": ["AssetLoader"],
      "hot_swappable": true
    },
    {
      "id": "C09",
      "name": "void_render",
      "layer": "Graphics",
      "purpose": "Render graph abstraction",
      "depends_on": ["void_ir"],
      "structs": ["RenderGraph"],
      "hot_swappable": false
    },
    {
      "id": "C10",
      "name": "void_shader",
      "layer": "Graphics",
      "purpose": "Naga shader compilation",
      "depends_on": ["void_asset"],
      "structs": ["ShaderPipeline"],
      "external_deps": ["naga", "wgpu"],
      "hot_swappable": true
    },
    {
      "id": "C11",
      "name": "void_ui",
      "layer": "Graphics",
      "purpose": "Immediate-mode UI",
      "depends_on": ["void_render"],
      "external_deps": ["egui"],
      "hot_swappable": false
    },
    {
      "id": "C12",
      "name": "void_presenter",
      "layer": "Graphics",
      "purpose": "Platform output adapters",
      "depends_on": ["void_render"],
      "traits": ["Presenter"],
      "patterns": ["Presenter Adapter"],
      "hot_swappable": true
    },
    {
      "id": "C13",
      "name": "void_compositor",
      "layer": "Graphics",
      "purpose": "Wayland compositor (Smithay)",
      "depends_on": ["void_presenter"],
      "feature_gated": "smithay-compositor",
      "external_deps": ["smithay"],
      "hot_swappable": false
    },
    {
      "id": "C14",
      "name": "void_engine",
      "layer": "Framework",
      "purpose": "Application orchestration",
      "depends_on": ["void_ir", "void_ecs"],
      "hot_swappable": false
    },
    {
      "id": "C15",
      "name": "void_kernel",
      "layer": "Core",
      "purpose": "Never-dying kernel",
      "depends_on": ["void_engine", "void_ir", "void_render"],
      "structs": ["Kernel", "KernelConfig", "SupervisorTree", "Supervisor", "Capability", "Namespace", "ResourceBudget", "Layer"],
      "enums": ["RestartStrategy", "CapabilityKind", "RecoveryResult", "LayerType", "BlendMode", "HotSwapKind"],
      "patterns": ["Supervision Tree", "Capability Security", "Namespace Isolation", "Resource Budgets", "Layer Composition"],
      "hot_swappable": true
    },
    {
      "id": "C16",
      "name": "void_graph",
      "layer": "Scripting",
      "purpose": "Visual scripting",
      "depends_on": ["void_core"],
      "traits": ["Node"],
      "hot_swappable": false
    },
    {
      "id": "C17",
      "name": "void_xr",
      "layer": "Platform",
      "purpose": "XR/VR/AR abstraction",
      "depends_on": ["void_render"],
      "feature_gated": "xr",
      "external_deps": ["openxr"],
      "hot_swappable": false
    },
    {
      "id": "C18",
      "name": "void_runtime",
      "layer": "Entry",
      "purpose": "Main process entry",
      "depends_on": ["void_kernel", "void_shell", "void_editor"],
      "enums": ["Backend"],
      "hot_swappable": false
    },
    {
      "id": "C19",
      "name": "void_services",
      "layer": "Services",
      "purpose": "Async service registry",
      "depends_on": ["void_core"],
      "traits": ["Service"],
      "structs": ["ServiceRegistry"],
      "enums": ["ServiceState"],
      "patterns": ["Service Lifecycle"],
      "external_deps": ["tokio"],
      "hot_swappable": true
    },
    {
      "id": "C20",
      "name": "void_asset_server",
      "layer": "Services",
      "purpose": "Hot-reload file server",
      "depends_on": ["void_asset"],
      "structs": ["AssetServer"],
      "external_deps": ["notify"],
      "hot_swappable": true
    },
    {
      "id": "C21",
      "name": "void_scripting",
      "layer": "Scripting",
      "purpose": "WASM plugin runtime",
      "depends_on": ["void_core"],
      "external_deps": ["wasmtime"],
      "hot_swappable": true
    },
    {
      "id": "C22",
      "name": "void_script",
      "layer": "Scripting",
      "purpose": "VoidScript language",
      "depends_on": ["void_ecs"],
      "hot_swappable": false
    },
    {
      "id": "C23",
      "name": "void_shell",
      "layer": "Interface",
      "purpose": "vsh REPL",
      "depends_on": ["void_kernel"],
      "hot_swappable": false
    },
    {
      "id": "C24",
      "name": "void_editor",
      "layer": "Interface",
      "purpose": "Visual editor (egui)",
      "depends_on": ["void_engine", "void_ui"],
      "external_deps": ["egui"],
      "hot_swappable": false
    }
  ],
  "patterns": [
    {
      "id": "P01",
      "name": "Plugin System",
      "crate": "void_core",
      "description": "Dynamic component loading with state preservation",
      "key_types": ["Plugin", "PluginRegistry", "PluginContext"],
      "hot_swappable": true
    },
    {
      "id": "P02",
      "name": "Type Registry",
      "crate": "void_core",
      "description": "Runtime type introspection",
      "key_types": ["TypeRegistry", "TypeInfo"],
      "hot_swappable": false
    },
    {
      "id": "P03",
      "name": "Hot Reload",
      "crate": "void_core",
      "description": "State-preserving component reload",
      "key_types": ["HotReloadable", "PluginState"],
      "hot_swappable": true
    },
    {
      "id": "P04",
      "name": "Archetype ECS",
      "crate": "void_ecs",
      "description": "Cache-efficient entity storage",
      "key_types": ["World", "Archetype"],
      "hot_swappable": false
    },
    {
      "id": "P05",
      "name": "Generational IDs",
      "crate": "void_ecs",
      "description": "Use-after-free prevention",
      "key_types": ["EntityId", "Generation"],
      "hot_swappable": false
    },
    {
      "id": "P06",
      "name": "IR Patches",
      "crate": "void_ir",
      "description": "Declarative state changes",
      "key_types": ["Patch", "PatchKind"],
      "hot_swappable": false
    },
    {
      "id": "P07",
      "name": "Transactions",
      "crate": "void_ir",
      "description": "Atomic patch groups",
      "key_types": ["Transaction", "TransactionBuilder"],
      "hot_swappable": false
    },
    {
      "id": "P08",
      "name": "Patch Bus",
      "crate": "void_ir",
      "description": "Namespaced patch queuing",
      "key_types": ["PatchBus", "Namespace"],
      "hot_swappable": false
    },
    {
      "id": "P09",
      "name": "Supervision Tree",
      "crate": "void_kernel",
      "description": "Erlang OTP fault tolerance",
      "key_types": ["SupervisorTree", "Supervisor", "RestartStrategy"],
      "inspired_by": "Erlang/OTP",
      "hot_swappable": false
    },
    {
      "id": "P10",
      "name": "Capability Security",
      "crate": "void_kernel",
      "description": "seL4-style unforgeable permissions",
      "key_types": ["Capability", "CapabilityKind"],
      "inspired_by": "seL4",
      "hot_swappable": false
    },
    {
      "id": "P11",
      "name": "Namespace Isolation",
      "crate": "void_kernel",
      "description": "App isolation boundary",
      "key_types": ["Namespace", "EntityRef"],
      "hot_swappable": false
    },
    {
      "id": "P12",
      "name": "Resource Budgets",
      "crate": "void_kernel",
      "description": "Per-app resource limiting",
      "key_types": ["ResourceBudget", "Sandbox"],
      "hot_swappable": false
    },
    {
      "id": "P13",
      "name": "Layer Composition",
      "crate": "void_kernel",
      "description": "Multi-app rendering with crash isolation",
      "key_types": ["Layer", "LayerType"],
      "hot_swappable": true
    },
    {
      "id": "P14",
      "name": "Service Lifecycle",
      "crate": "void_services",
      "description": "Async service management",
      "key_types": ["Service", "ServiceState"],
      "hot_swappable": true
    },
    {
      "id": "P15",
      "name": "Presenter Adapter",
      "crate": "void_presenter",
      "description": "Swappable output abstraction",
      "key_types": ["Presenter"],
      "hot_swappable": true
    }
  ],
  "security_boundaries": [
    {
      "id": "B01",
      "name": "Namespace Isolation",
      "enforcement": "Entity ID includes namespace",
      "crate": "void_ir"
    },
    {
      "id": "B02",
      "name": "Capability System",
      "enforcement": "Unforgeable tokens",
      "crate": "void_kernel"
    },
    {
      "id": "B03",
      "name": "Resource Budgets",
      "enforcement": "Per-app limits",
      "crate": "void_kernel"
    },
    {
      "id": "B04",
      "name": "Panic Containment",
      "enforcement": "catch_unwind",
      "crate": "void_kernel"
    },
    {
      "id": "B05",
      "name": "Supervision",
      "enforcement": "Auto-restart on crash",
      "crate": "void_kernel"
    },
    {
      "id": "B06",
      "name": "Audit Logging",
      "enforcement": "All capability checks logged",
      "crate": "void_kernel"
    }
  ],
  "hot_swappable_components": [
    {
      "id": "H01",
      "component": "Plugins",
      "crate": "void_core",
      "mechanism": "hot_reload feature",
      "state_preserved": true
    },
    {
      "id": "H02",
      "component": "Assets",
      "crate": "void_asset",
      "mechanism": "File watching",
      "state_preserved": true
    },
    {
      "id": "H03",
      "component": "Shaders",
      "crate": "void_shader",
      "mechanism": "Naga recompile",
      "state_preserved": true
    },
    {
      "id": "H04",
      "component": "Services",
      "crate": "void_services",
      "mechanism": "Lifecycle API",
      "state_preserved": true
    },
    {
      "id": "H05",
      "component": "Modules",
      "crate": "void_kernel",
      "mechanism": "HotSwapManager",
      "state_preserved": true
    },
    {
      "id": "H06",
      "component": "Layers",
      "crate": "void_kernel",
      "mechanism": "Layer composition",
      "state_preserved": true
    },
    {
      "id": "H07",
      "component": "Renderers",
      "crate": "void_presenter",
      "mechanism": "Backend switch",
      "state_preserved": true
    }
  ],
  "feature_flags": {
    "hot-reload": {
      "description": "Enable hot-reload support",
      "default": true,
      "crates": ["void_core", "void_kernel"]
    },
    "smithay-compositor": {
      "description": "Full Wayland compositor",
      "default": false,
      "crates": ["void_runtime", "void_compositor", "void_presenter"]
    },
    "xr": {
      "description": "OpenXR VR/AR support",
      "default": false,
      "crates": ["void_runtime", "void_presenter", "void_xr"]
    },
    "audio-backend": {
      "description": "Audio via rodio",
      "default": false,
      "crates": ["void_services"]
    },
    "drm-backend": {
      "description": "Direct GPU rendering",
      "default": false,
      "crates": ["void_runtime", "void_compositor", "void_presenter"]
    }
  }
}
