# =============================================================================
# Model Viewer - Scene Definition
# =============================================================================
# Demonstrates all 18 phases of the Void GUI renderer capabilities.
# Everything here is hot-swappable!

[scene]
name = "Model Viewer Demo"
description = "Interactive 3D model viewer showcasing PBR materials, lighting, shadows, animations, picking, and debug visualization"
version = "2.0.0"

# =============================================================================
# Camera System (Phase 2)
# =============================================================================

[[cameras]]
name = "main_camera"
active = true
type = "perspective"

[cameras.transform]
position = [0.0, 2.0, 5.0]
target = [0.0, 0.5, 0.0]
up = [0.0, 1.0, 0.0]

[cameras.perspective]
fov = 60.0
near = 0.1
far = 1000.0
aspect = "auto"

[[cameras]]
name = "top_down"
active = false
type = "orthographic"

[cameras.transform]
position = [0.0, 20.0, 0.0]
target = [0.0, 0.0, 0.0]
up = [0.0, 0.0, -1.0]

[cameras.orthographic]
left = -10.0
right = 10.0
bottom = -10.0
top = 10.0
near = 0.1
far = 50.0

# =============================================================================
# Lighting System (Phase 5)
# =============================================================================

# Main directional light (sun)
[[lights]]
name = "sun"
type = "directional"
enabled = true

[lights.directional]
direction = [0.5, -0.7, 0.5]
color = [1.0, 0.95, 0.85]
intensity = 3.0
cast_shadows = true

# Fill light (softer, from opposite side)
[[lights]]
name = "fill_light"
type = "directional"
enabled = true

[lights.directional]
direction = [-0.3, -0.5, -0.4]
color = [0.6, 0.7, 0.9]
intensity = 0.5
cast_shadows = false

# Point light accent
[[lights]]
name = "accent_light"
type = "point"
enabled = true

[lights.point]
position = [3.0, 2.0, 2.0]
color = [1.0, 0.8, 0.6]
intensity = 50.0
range = 8.0
cast_shadows = false

[lights.point.attenuation]
constant = 1.0
linear = 0.09
quadratic = 0.032

# Spot light for dramatic effect
[[lights]]
name = "spotlight"
type = "spot"
enabled = false

[lights.spot]
position = [0.0, 5.0, 0.0]
direction = [0.0, -1.0, 0.0]
color = [1.0, 1.0, 1.0]
intensity = 200.0
range = 10.0
inner_angle = 20.0
outer_angle = 35.0
cast_shadows = true

# =============================================================================
# Shadow Configuration (Phase 6)
# =============================================================================

[shadows]
enabled = true
atlas_size = 4096
max_shadow_distance = 50.0
shadow_fade_distance = 5.0

[shadows.cascades]
count = 3
split_scheme = "practical"
lambda = 0.5

[[shadows.cascades.levels]]
resolution = 2048
distance = 10.0
bias = 0.0005

[[shadows.cascades.levels]]
resolution = 1024
distance = 25.0
bias = 0.001

[[shadows.cascades.levels]]
resolution = 512
distance = 50.0
bias = 0.002

[shadows.filtering]
method = "pcf"
pcf_samples = 16
pcf_radius = 1.5
soft_shadows = true
contact_hardening = false

# =============================================================================
# Environment Settings
# =============================================================================

[environment]
environment_map = "textures/env/blue_photo_studio_1k.hdr"
ambient_intensity = 0.12

[environment.sky]
zenith_color = [0.1, 0.3, 0.6]
horizon_color = [0.5, 0.7, 0.9]
ground_color = [0.15, 0.12, 0.1]
sun_size = 0.03
sun_intensity = 50.0
sun_falloff = 3.0
fog_density = 0.0

# =============================================================================
# Picking Configuration (Phase 10)
# =============================================================================

[picking]
enabled = true
method = "gpu"
max_distance = 100.0
layer_mask = ["world", "transparent"]

[picking.gpu]
buffer_size = [256, 256]
readback_delay = 1

# =============================================================================
# Spatial Query Configuration (Phase 14)
# =============================================================================

[spatial]
structure = "bvh"
auto_rebuild = true
rebuild_threshold = 0.3

[spatial.bvh]
max_leaf_size = 4
build_quality = "medium"

[spatial.queries]
frustum_culling = true
occlusion_culling = false
max_query_results = 500

# =============================================================================
# Debug Configuration (Phase 18)
# =============================================================================

[debug]
enabled = false

[debug.stats]
enabled = false
position = "top_left"
font_size = 14
background_alpha = 0.7

[debug.stats.display]
fps = true
frame_time = true
draw_calls = true
triangles = true
entities_total = true
entities_visible = true
gpu_memory = false
cpu_time = true

[debug.visualization]
enabled = false
bounds = false
wireframe = false
normals = false
light_volumes = false
shadow_cascades = false
lod_levels = false
skeleton = false

[debug.visualization.appearance]
bounds_color = [0.0, 1.0, 0.0, 0.5]
normal_color = [0.0, 0.5, 1.0, 1.0]
normal_length = 0.1
line_width = 1.0

[debug.controls]
toggle_key = "F3"
cycle_mode_key = "F4"
reload_shaders_key = "F5"

# =============================================================================
# Input Configuration
# =============================================================================

[input.camera]
orbit_button = "left"
pan_button = "middle"
zoom_scroll = true
orbit_sensitivity = 0.005
pan_sensitivity = 0.01
zoom_sensitivity = 0.1
invert_y = false
invert_x = false
min_distance = 0.5
max_distance = 50.0

[input.bindings]
next_material = "Tab"
prev_material = "Shift+Tab"
model_sphere = "1"
model_cube = "2"
model_torus = "3"
model_diamond = "4"
reset_camera = "R"
toggle_wireframe = "F"
toggle_grid = "G"
toggle_debug = "F3"
toggle_stats = "F2"
toggle_shadows = "H"
screenshot = "F12"

# =============================================================================
# Entities
# =============================================================================

# ------------------------------------------------------------------------------
# Gold metallic sphere - main showcase object
# ------------------------------------------------------------------------------
[[entities]]
name = "gold_sphere"
mesh = "sphere"
layer = "world"
visible = true

[entities.transform]
position = [0.0, 0.5, 0.0]
scale = 1.0

[entities.material]
albedo = { texture = "textures/Metal038/Metal038_1K-PNG_Color.png" }
normal_map = "textures/Metal038/Metal038_1K-PNG_NormalGL.png"
metallic = { texture = "textures/Metal038/Metal038_1K-PNG_Metalness.png" }
roughness = { texture = "textures/Metal038/Metal038_1K-PNG_Roughness.png" }

[entities.animation]
type = "rotate"
axis = [0.0, 1.0, 0.0]
speed = 0.5

[entities.pickable]
enabled = true
priority = 0
bounds = "mesh"
highlight_on_hover = true

[entities.input_events]
on_click = "select_entity"
on_pointer_enter = "highlight_on"
on_pointer_exit = "highlight_off"

# ------------------------------------------------------------------------------
# Chrome torus - bobbing animation
# ------------------------------------------------------------------------------
[[entities]]
name = "chrome_torus"
mesh = "torus"
layer = "world"
visible = true

[entities.transform]
position = [2.0, 0.3, 0.0]
scale = 1.0

[entities.material]
albedo = { texture = "textures/Metal009/Metal009_1K-PNG_Color.png" }
normal_map = "textures/Metal009/Metal009_1K-PNG_NormalGL.png"
metallic = { texture = "textures/Metal009/Metal009_1K-PNG_Metalness.png" }
roughness = { texture = "textures/Metal009/Metal009_1K-PNG_Roughness.png" }

[entities.animation]
type = "oscillate"
axis = [0.0, 1.0, 0.0]
amplitude = 0.3
frequency = 0.5
phase = 0.0
rotate = false

[entities.pickable]
enabled = true
highlight_on_hover = true

# ------------------------------------------------------------------------------
# Metal cube - rotating
# ------------------------------------------------------------------------------
[[entities]]
name = "metal_cube"
mesh = "cube"
layer = "world"
visible = true

[entities.transform]
position = [-2.0, 0.5, 0.0]
scale = 0.8

[entities.material]
albedo = { texture = "textures/Metal034/Metal034_1K-PNG_Color.png" }
normal_map = "textures/Metal034/Metal034_1K-PNG_NormalGL.png"
metallic = { texture = "textures/Metal034/Metal034_1K-PNG_Metalness.png" }
roughness = { texture = "textures/Metal034/Metal034_1K-PNG_Roughness.png" }

[entities.animation]
type = "rotate"
axis = [0.0, 1.0, 0.0]
speed = 0.3

[entities.pickable]
enabled = true
highlight_on_hover = true

# ------------------------------------------------------------------------------
# Purple diamond - orbiting with emissive
# ------------------------------------------------------------------------------
[[entities]]
name = "purple_diamond"
mesh = "diamond"
layer = "world"
visible = true

[entities.transform]
position = [0.0, 0.5, -2.5]
scale = 0.7

[entities.material]
albedo = { texture = "textures/Fabric041/Fabric041_1K-PNG_Color.png" }
normal_map = "textures/Fabric041/Fabric041_1K-PNG_NormalGL.png"
metallic = 0.8
roughness = { texture = "textures/Fabric041/Fabric041_1K-PNG_Roughness.png" }
emissive = [0.1, 0.0, 0.15]

[entities.animation]
type = "orbit"
center = [0.0, 0.5, 0.0]
radius = 2.5
speed = 0.4
axis = [0.0, 1.0, 0.0]
start_angle = 4.71
face_center = true

[entities.pickable]
enabled = true
highlight_on_hover = true

# ------------------------------------------------------------------------------
# Glass sphere - transmission material (Phase 7)
# ------------------------------------------------------------------------------
[[entities]]
name = "glass_sphere"
mesh = "sphere"
layer = "transparent"
visible = true

[entities.transform]
position = [1.5, 0.6, 2.0]
scale = 0.6

[entities.material]
albedo = [1.0, 1.0, 1.0]
metallic = 0.0
roughness = 0.0

[entities.material.transmission]
factor = 0.95
ior = 1.5
thickness = 0.3
attenuation_color = [0.95, 0.98, 1.0]
attenuation_distance = 1.0

[entities.pickable]
enabled = true
highlight_on_hover = true

# ------------------------------------------------------------------------------
# Velvet sphere - sheen material (Phase 7)
# ------------------------------------------------------------------------------
[[entities]]
name = "velvet_sphere"
mesh = "sphere"
layer = "world"
visible = true

[entities.transform]
position = [-1.5, 0.4, 2.0]
scale = 0.5

[entities.material]
albedo = [0.2, 0.05, 0.15]
metallic = 0.0
roughness = 0.9

[entities.material.sheen]
color = [0.6, 0.3, 0.5]
roughness = 0.3

[entities.pickable]
enabled = true
highlight_on_hover = true

# ------------------------------------------------------------------------------
# Car paint sphere - clearcoat material (Phase 7)
# ------------------------------------------------------------------------------
[[entities]]
name = "car_paint_sphere"
mesh = "sphere"
layer = "world"
visible = true

[entities.transform]
position = [0.0, 0.4, 2.5]
scale = 0.5

[entities.material]
albedo = [0.8, 0.1, 0.1]
metallic = 0.0
roughness = 0.4

[entities.material.clearcoat]
intensity = 1.0
roughness = 0.1

[entities.animation]
type = "pulse"
min_scale = 0.9
max_scale = 1.1
frequency = 0.8
phase = 0.0

[entities.pickable]
enabled = true
highlight_on_hover = true

# ------------------------------------------------------------------------------
# Pathfinder sphere - following a path
# ------------------------------------------------------------------------------
[[entities]]
name = "pathfinder"
mesh = "sphere"
layer = "world"
visible = true

[entities.transform]
position = [0.0, 1.0, 0.0]
scale = 0.3

[entities.material]
albedo = { texture = "textures/Plastic011/Plastic011_1K-PNG_Color.png" }
normal_map = "textures/Plastic011/Plastic011_1K-PNG_NormalGL.png"
metallic = 0.2
roughness = { texture = "textures/Plastic011/Plastic011_1K-PNG_Roughness.png" }
emissive = [0.05, 0.2, 0.05]

[entities.animation]
type = "path"
points = [
    [-3.0, 1.0, 3.0],
    [3.0, 1.5, 3.0],
    [3.0, 0.5, -3.0],
    [-3.0, 1.0, -3.0],
    [-3.0, 1.0, 3.0]
]
duration = 10.0
loop_animation = true
ping_pong = false
interpolation = "linear"
orient_to_path = true
easing = "smooth_step"

[entities.pickable]
enabled = true
highlight_on_hover = true

# ------------------------------------------------------------------------------
# Pulsing red sphere
# ------------------------------------------------------------------------------
[[entities]]
name = "pulsing_sphere"
mesh = "sphere"
layer = "world"
visible = true

[entities.transform]
position = [0.0, 0.3, -2.5]
scale = 0.4

[entities.material]
albedo = { texture = "textures/Plastic009/Plastic009_1K-PNG_Color.png" }
normal_map = "textures/Plastic009/Plastic009_1K-PNG_NormalGL.png"
metallic = 0.3
roughness = { texture = "textures/Plastic009/Plastic009_1K-PNG_Roughness.png" }
emissive = [0.3, 0.05, 0.05]

[entities.animation]
type = "pulse"
min_scale = 0.8
max_scale = 1.2
frequency = 1.5
phase = 0.0

[entities.pickable]
enabled = true
highlight_on_hover = true

# ------------------------------------------------------------------------------
# Brushed metal cylinder - anisotropic material (Phase 7)
# ------------------------------------------------------------------------------
[[entities]]
name = "brushed_cylinder"
mesh = "cylinder"
layer = "world"
visible = true

[entities.transform]
position = [2.5, 0.4, -1.5]
scale = [0.4, 0.8, 0.4]

[entities.material]
albedo = [0.85, 0.85, 0.9]
metallic = 1.0
roughness = 0.35

[entities.material.anisotropy]
strength = 0.7
rotation = 0.0

[entities.animation]
type = "rotate"
axis = [0.0, 1.0, 0.0]
speed = 0.2

[entities.pickable]
enabled = true
highlight_on_hover = true

# ------------------------------------------------------------------------------
# Ground plane with wood texture
# ------------------------------------------------------------------------------
[[entities]]
name = "ground"
mesh = "plane"
layer = "world"
visible = true

[entities.transform]
position = [0.0, -0.01, 0.0]
scale = 10.0

[entities.material]
albedo = { texture = "textures/Wood049/Wood049_1K-PNG_Color.png" }
normal_map = "textures/Wood049/Wood049_1K-PNG_NormalGL.png"
metallic = 0.0
roughness = { texture = "textures/Wood049/Wood049_1K-PNG_Roughness.png" }

[entities.pickable]
enabled = false

# =============================================================================
# Particle Emitters
# =============================================================================

[[particle_emitters]]
name = "fire"
position = [3.5, 0.0, 2.0]
emit_rate = 100.0
max_particles = 2000
lifetime = [0.8, 2.0]
speed = [1.5, 3.0]
size = [0.08, 0.2]
color_start = [1.0, 0.7, 0.2, 1.0]
color_end = [1.0, 0.1, 0.0, 0.0]
gravity = [0.0, 1.5, 0.0]
spread = 0.4
direction = [0.0, 1.0, 0.0]
enabled = true

[[particle_emitters]]
name = "sparkles"
position = [0.0, 1.5, 0.0]
emit_rate = 20.0
max_particles = 500
lifetime = [1.0, 3.0]
speed = [0.5, 1.5]
size = [0.02, 0.05]
color_start = [1.0, 1.0, 0.8, 1.0]
color_end = [0.5, 0.5, 1.0, 0.0]
gravity = [0.0, -0.5, 0.0]
spread = 1.0
direction = [0.0, 1.0, 0.0]
enabled = true

# =============================================================================
# Textures (for preloading)
# =============================================================================

# Metal034 - Scratched metal for cube
[[textures]]
name = "metal034_albedo"
path = "textures/Metal034/Metal034_1K-PNG_Color.png"
srgb = true
mipmap = true

[[textures]]
name = "metal034_normal"
path = "textures/Metal034/Metal034_1K-PNG_NormalGL.png"
srgb = false

[[textures]]
name = "metal034_roughness"
path = "textures/Metal034/Metal034_1K-PNG_Roughness.png"
srgb = false

[[textures]]
name = "metal034_metalness"
path = "textures/Metal034/Metal034_1K-PNG_Metalness.png"
srgb = false

# Metal038 - Gold/brass metal for sphere
[[textures]]
name = "metal038_albedo"
path = "textures/Metal038/Metal038_1K-PNG_Color.png"
srgb = true

[[textures]]
name = "metal038_normal"
path = "textures/Metal038/Metal038_1K-PNG_NormalGL.png"
srgb = false

[[textures]]
name = "metal038_roughness"
path = "textures/Metal038/Metal038_1K-PNG_Roughness.png"
srgb = false

[[textures]]
name = "metal038_metalness"
path = "textures/Metal038/Metal038_1K-PNG_Metalness.png"
srgb = false

# Metal009 - Chrome/brushed metal for torus
[[textures]]
name = "metal009_albedo"
path = "textures/Metal009/Metal009_1K-PNG_Color.png"
srgb = true

[[textures]]
name = "metal009_normal"
path = "textures/Metal009/Metal009_1K-PNG_NormalGL.png"
srgb = false

[[textures]]
name = "metal009_roughness"
path = "textures/Metal009/Metal009_1K-PNG_Roughness.png"
srgb = false

[[textures]]
name = "metal009_metalness"
path = "textures/Metal009/Metal009_1K-PNG_Metalness.png"
srgb = false

# Wood049 - Wood floor for ground
[[textures]]
name = "wood_albedo"
path = "textures/Wood049/Wood049_1K-PNG_Color.png"
srgb = true

[[textures]]
name = "wood_normal"
path = "textures/Wood049/Wood049_1K-PNG_NormalGL.png"
srgb = false

[[textures]]
name = "wood_roughness"
path = "textures/Wood049/Wood049_1K-PNG_Roughness.png"
srgb = false

# Fabric041 - Purple fabric for diamond
[[textures]]
name = "fabric041_albedo"
path = "textures/Fabric041/Fabric041_1K-PNG_Color.png"
srgb = true

[[textures]]
name = "fabric041_normal"
path = "textures/Fabric041/Fabric041_1K-PNG_NormalGL.png"
srgb = false

[[textures]]
name = "fabric041_roughness"
path = "textures/Fabric041/Fabric041_1K-PNG_Roughness.png"
srgb = false

# Plastic011 - Green plastic for pathfinder sphere
[[textures]]
name = "plastic011_albedo"
path = "textures/Plastic011/Plastic011_1K-PNG_Color.png"
srgb = true

[[textures]]
name = "plastic011_normal"
path = "textures/Plastic011/Plastic011_1K-PNG_NormalGL.png"
srgb = false

[[textures]]
name = "plastic011_roughness"
path = "textures/Plastic011/Plastic011_1K-PNG_Roughness.png"
srgb = false

# Plastic009 - Red plastic for pulsing sphere
[[textures]]
name = "plastic009_albedo"
path = "textures/Plastic009/Plastic009_1K-PNG_Color.png"
srgb = true

[[textures]]
name = "plastic009_normal"
path = "textures/Plastic009/Plastic009_1K-PNG_NormalGL.png"
srgb = false

[[textures]]
name = "plastic009_roughness"
path = "textures/Plastic009/Plastic009_1K-PNG_Roughness.png"
srgb = false

# Environment HDR map
[[textures]]
name = "environment"
path = "textures/env/blue_photo_studio_1k.hdr"
hdr = true
