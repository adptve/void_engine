{
  "$schema": "../../schemas/manifest.schema.json",
  "package": {
    "name": "model-viewer",
    "display_name": "3D Model Viewer",
    "version": "2.0.0",
    "description": "Interactive 3D model viewer with PBR materials, advanced lighting, shadows, animations, LOD, streaming, and debug visualization",
    "author": "Void Engine Team",
    "license": "MIT",
    "keywords": ["3d", "pbr", "viewer", "model", "materials", "animation", "lod", "streaming", "shadows"],
    "categories": ["demo", "tools", "visualization"]
  },
  "app": {
    "app_type": "tool",
    "scene": "scene.json",
    "layers": [
      { "name": "shadow", "type": "shadow", "priority": -200, "blend": "replace" },
      { "name": "sky", "type": "content", "priority": -100, "blend": "replace" },
      { "name": "grid", "type": "content", "priority": -10, "blend": "normal" },
      { "name": "world", "type": "content", "priority": 0, "blend": "normal" },
      { "name": "transparent", "type": "content", "priority": 20, "blend": "normal" },
      { "name": "particles", "type": "overlay", "priority": 50, "blend": "additive" },
      { "name": "ui", "type": "overlay", "priority": 100, "blend": "normal" },
      { "name": "debug", "type": "overlay", "priority": 200, "blend": "normal" }
    ],
    "render_passes": [
      {
        "name": "shadow_cascade_0",
        "type": "shadow",
        "priority": -200,
        "enabled": true,
        "config": {
          "resolution": [2048, 2048],
          "format": "depth32float",
          "clear_depth": 1.0,
          "entity_filter": "shadow_casters"
        },
        "dependencies": {
          "requires": [],
          "provides": ["shadow_map_0"]
        }
      },
      {
        "name": "shadow_cascade_1",
        "type": "shadow",
        "priority": -199,
        "enabled": true,
        "config": {
          "resolution": [1024, 1024],
          "format": "depth32float"
        }
      },
      {
        "name": "shadow_cascade_2",
        "type": "shadow",
        "priority": -198,
        "enabled": true,
        "config": {
          "resolution": [512, 512],
          "format": "depth32float"
        }
      }
    ],
    "lod": {
      "enabled": true,
      "mode": "distance",
      "default_mode": "cross_fade",
      "cross_fade_duration": 0.3,
      "dither_pattern": "bayer8",
      "hysteresis": 0.15,
      "update_frequency": 60.0
    },
    "streaming": {
      "enabled": false,
      "chunk_size": 64.0,
      "load_distance": 256.0,
      "unload_distance": 320.0,
      "max_concurrent_loads": 4,
      "max_memory_mb": 256,
      "preload_neighbors": true,
      "priority_bias": "camera_direction",
      "recycling": {
        "enabled": true,
        "pool_size": 500,
        "cooldown_frames": 60
      }
    },
    "precision": {
      "enabled": false,
      "origin_rebase_threshold": 5000.0,
      "camera_relative_rendering": false,
      "double_precision_physics": false,
      "coordinate_system": "right_handed"
    },
    "debug": {
      "enabled": false,
      "show_stats_overlay": false,
      "stats_position": "top_left",
      "visualization": {
        "bounds": false,
        "normals": false,
        "wireframe": false,
        "light_volumes": false,
        "shadow_cascades": false,
        "lod_colors": false,
        "chunk_boundaries": false,
        "collision_shapes": false,
        "skeleton": false,
        "velocity_vectors": false
      },
      "appearance": {
        "bounds_color": [0.0, 1.0, 0.0, 0.5],
        "normal_color": [0.0, 0.5, 1.0, 1.0],
        "normal_length": 0.1,
        "line_width": 1.0,
        "font_size": 14
      }
    },
    "spatial": {
      "structure": "bvh",
      "rebuild_threshold": 0.3,
      "max_depth": 16,
      "min_objects_per_node": 4
    },
    "permissions": {
      "scripts": false
    },
    "resources": {
      "max_entities": 1000,
      "max_memory": 268435456,
      "max_layers": 8,
      "max_cpu_ms": 16.0,
      "max_draw_calls": 5000,
      "max_triangles": 10000000,
      "max_lights": 128,
      "max_shadow_casters": 4
    }
  },
  "window": {
    "width": 1280,
    "height": 720,
    "fullscreen": false,
    "vsync": true,
    "resizable": true
  },
  "assets": {
    "include": ["textures/", "models/"],
    "compression": 6
  },
  "platform": {
    "min_version": "2.0.0",
    "required_features": ["webgpu"]
  }
}
